
Main design decisions
====================

 - Docker based
 - Debian based. Small distro like Alpine has issues when compiling asterisk Debian has all the required packages and can run the dependency installer of Asterisk
 - speex codec for high quality audio


Build
-----

 - builded on site using the Dockerfile, not from Dockerhub
 - run the build.sh script
 
 - Configuration:
   - The default config is generated by launching the contained using docker-compose. It mounts the ./etc/asterisk folder in the container
     Then log into the running container using :  docker run --rm -it -v $(pwd)/etc/asterisk:/etc/asterisk blup1980/asterisk bash
     and run 'make sample' and 'make config'
     The default configuration will be copied in the etc/asterisk directory 

Run
---

 - Autorun in managed by docker restart policy not systemd services
 - To query the status of the autorun : 'docker inspect <containerName> | less' 
   and check for the RestartPolicy entry
 - to Disable the autorun: 'docker update --restart=no <containerName>'
 - to Enable the autorun: 'docker update --restart=Always <containerName>'
 - Due to issues with forwaring a lot of ports, the comntainer is bridged. Trying the uses the -v command takes hours.

MicroSIP
-------
 - Ensure using UDP only, TCP + UDP creates a delay for the failure of the TCP connection.
 - Disable echo cancellation (EC) to improve the delay
